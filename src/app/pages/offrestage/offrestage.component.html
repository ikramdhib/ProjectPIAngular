<div class="container mt-4">
  <h1>ADD OFFER</h1>
  <div class="card">
    <form (ngSubmit)="onSubmit()" #offreForm="ngForm" enctype="multipart/form-data">
      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            <label for="nomEntreprise">Company name</label>
            <input type="text" [disabled]="true" [(ngModel)]="nouvelleOffre.nomEntreprise" class="form-control" id="nomEntreprise" name="nomEntreprise" required>
          </div>
          <div class="form-group">
            <label for="nomEncadrant">Nom de l'encadrant</label>
            <input type="text" [disabled]="true" [(ngModel)]="nouvelleOffre.nomEncadrant" class="form-control" id="nomEncadrant" name="nomEncadrant" required>
          </div>
          <div class="form-group">
            <label for="email">Email</label>
            <input type="email" [disabled]="true" [(ngModel)]="nouvelleOffre.email" class="form-control" id="email" name="email" required>
          </div>
          <label for="type">Type of internship</label>
          <select class="form-control" id="type" [(ngModel)]="nouvelleOffre.type" name="type">
            <option *ngFor="let type of types | keyvalue" [value]="type.key">{{ type.value }}</option>
          </select>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label for="prenomEncadrant">Supervisor's first name</label>
            <input type="text" [disabled]="true" [(ngModel)]="nouvelleOffre.prenomEncadrant" class="form-control" id="prenomEncadrant" name="prenomEncadrant" required>
          </div>
          <div class="form-group">
              <label for="logoInput">Company logo</label>
              <input type="file" (change)="onFileSelected($event)" name="image" accept="image/*">
              <div *ngIf="imgURL" class="mt-2">
                  <img [src]="imgURL" class="img-thumbnail logo-image" alt="Logo de l'entreprise">
              </div>
          </div>
          <div class="form-group">
            <label for="lienLinkedIn">Link LinkedIn</label>
            <input type="text" class="form-control" id="lienLinkedIn" [(ngModel)]="nouvelleOffre.lienLinkedIn" name="lienLinkedIn">
          </div>
          <div class="form-group">
            <small class="form-text text-muted">Vous pouvez également exporter une description de stage depuis LinkedIn en spécifiant le lien ci-dessus.</small>
        </div>
          <div class="form-group">
            <label for="description">Description</label>
            <textarea [(ngModel)]="nouvelleOffre.description" class="form-control" id="description" name="description" required></textarea>
          </div>
          <div class="form-group">
            <label for="datedebut_stage">Internship start date</label>
            <input type="date" [ngModel]="nouvelleOffre.datedebut_stage | date: 'yyyy-MM-dd'" (ngModelChange)="nouvelleOffre.datedebut_stage = $event" class="form-control" id="datedebut_stage" name="datedebut_stage" required>
          </div>
          <div class="form-group">
            <label for="datefin_stage">Internship end date</label>
            <input type="date" [ngModel]="nouvelleOffre.datefin_stage | date: 'yyyy-MM-dd'" (ngModelChange)="nouvelleOffre.datefin_stage = $event" class="form-control" id="datefin_stage" name="datefin_stage" required>
          </div>
          <div class="form-group">
              <label for="duree">Training period ({{calculateDuration()}}Days)</label>
              <input type="text" class="form-control" id="duree" name="duree" [(ngModel)]="nouvelleOffre.duree" readonly hidden>
            </div>
            <div class="form-group">
              <label for="hashtags">Hashtags(Competences)</label>
              <input type="text" [(ngModel)]="nouvelleOffre.hashtags" class="form-control" id="hashtags" name="hashtags" placeholder="Séparez les hashtags par des virgules">
              <small class="form-text text-muted">Séparez les hashtags par des virgules (,)</small>
            </div>

        </div>
      </div>
    
      <button type="submit" class="btn btn-danger mt-4">Add Offer</button>
    </form>
  </div>
</div>
